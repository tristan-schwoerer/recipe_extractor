extract:
  name: Extract Recipe
  description: Extract structured recipe ingredients from a website URL
  response: optional
  fields:
    url:
      name: URL
      description: The URL of the recipe website to extract
      required: true
      example: "https://www.chefkoch.de/rezepte/187591080204663/Gewuerzkuchen-auf-m-Blech.html"
      selector:
        text:
    model:
      name: Model
      description: AI model to use for extraction (default is gemini-2.5-flash)
      required: false
      default: "gemini-2.5-flash"
      example: "gemini-2.5-flash"
      selector:
        text:

extract_to_list:
  name: Extract Recipe to Shopping List
  description: Extract recipe ingredients and add them directly to a todo list entity
  response: optional
  fields:
    url:
      name: URL
      description: The URL of the recipe website to extract
      required: true
      example: "https://www.chefkoch.de/rezepte/187591080204663/Gewuerzkuchen-auf-m-Blech.html"
      selector:
        text:
    todo_entity:
      name: Todo List Entity
      description: The entity ID of the todo list to add ingredients to (e.g., todo.google_keep_shopping)
      required: true
      example: "todo.google_keep_shopping"
      selector:
        entity:
          domain: todo
    target_servings:
      name: Target Servings
      description: Optional number of servings to scale the recipe to (requires recipe to specify original servings)
      required: false
      example: 6
      selector:
        number:
          min: 0.1
          max: 100
          step: 0.1
          mode: box
    model:
      name: Model
      description: AI model to use for extraction (default is gemini-2.5-flash)
      required: false
      default: "gemini-2.5-flash"
      example: "gemini-2.5-flash"
      selector:
        text:

add_to_list:
  name: Add Recipe to Shopping List
  description: Add extracted recipe ingredients to a todo list entity (requires pre-extracted recipe data)
  response: optional
  fields:
    recipe:
      name: Recipe Data
      description: The extracted recipe data dictionary containing ingredients
      required: true
      example: "{{ states.sensor.last_recipe.attributes }}"
      selector:
        object:
    todo_entity:
      name: Todo List Entity
      description: The entity ID of the todo list to add ingredients to (e.g., todo.google_keep_shopping)
      required: true
      example: "todo.google_keep_shopping"
      selector:
        entity:
          domain: todo
    target_servings:
      name: Target Servings
      description: Optional number of servings to scale the recipe to (requires recipe to specify original servings)
      required: false
      example: 6
      selector:
        number:
          min: 0.1
          max: 100
          step: 0.1
          mode: box
